menu = ('[1] Sacar'
        '\n[2] Depositar'
        '\n[3] Visualizar extrato'
        '\n[4] Sair'
        )

extrato = ''
limite = 500
LIMITE_SAQUES = 3
saldo = 0
numero_saques = 0

while True:
    opcoes = int(input(menu))



    if opcoes == 1:
        valor_saque = float(input('Digite o valor de saque'))

        excedeu_saques = numero_saques >= LIMITE_SAQUES

        excedeu_saldo= valor_saque > saldo


        if excedeu_saques:
            print('Operação falhou! Número máximo de saques excedido')


        elif excedeu_saldo:
            print('Não foi possível realizar saque. Saldo insuficiente!')


        elif valor_saque <= limite and valor_saque > 0:

            saldo -= valor_saque
            numero_saques += 1
            extrato += f'Saque: R$ {valor_saque:.2f}\n'
        else:
            print('Não foi possível realizar saque. Valor máximo = R$ 500,00')

    if opcoes == 2:
        valor_deposito = float(input('Digite o valor do depósito'))
        if valor_deposito > 0:
            saldo += valor_deposito
            extrato += f'Depósito: R$ {valor_deposito:.2f}\n'

    if opcoes == 3:
        if extrato != '':
            print(f'{extrato}')

        else:
            print('Não foram realizadas movimentações.')

    if opcoes == 4:
        break
